---
import { Image } from "astro:assets";
import { slugify, formatDate } from "../js/utilsBlog";
import MainLayout from "./MainLayout.astro";
import CategoryCloud from "../components/CategoryCloud.astro";
import "../styles/blog.css";
const { frontmatter } = Astro.props;
const { title, description, date, category, author, image } = frontmatter;
---

<MainLayout {title} {description}>
    <article>
        <section aria-labelledby="postTitle">
            <div class="wrapper-contents post__heading">
                <a href={`/category/${slugify(category)}/`} class="badge"
                    >{category}</a
                >
                <h1 id="postTitle" class="h2">{title}</h1>
                <p>
                    by <a href={`/author/${slugify(author)}/`}>{author}</a>
                     â€¢ {formatDate(date)}
                </p>
            </div>
        </section>
        <Image
            src={image.src}
            alt={image.alt}
            width="1200"
            height="600"
            class="post__img"
        />
        <section>
            <div class="wrapper-contents post__wrapper">
                <div class="post__content">
                    <slot />
                </div>
                <aside class="blog__categories" aria-label="Blog categories">
                    <h2 id="categoryTitle" class="h3">Blog Categories</h2>
                    <CategoryCloud />
                </aside>
            </div>
        </section>
    </article>
</MainLayout>
